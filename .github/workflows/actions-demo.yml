name: Reset and Restore

on:
  workflow_dispatch:
    inputs:
      platform:
        description: "Want to restore or reset?"
        required: true
        type: choice
        options:
        - restore
        - reset
  # push:
  #   branches:
  #     - master
        
jobs:
  Restore_and_Reset_jobs:
    runs-on: ubuntu-latest
    steps:
      - name: General step
        run: |-
            echo "Always run"
      - name: Restore
        if: ${{ github.event.inputs.platform == 'restore' }} 
        run: |-
            echo "Restoring"
            echo "hi guys" > abhi.txt
            cat abhi.txt
      - name: upload artifact
        uses: actions/upload-artifact@v2
        with: 
          name: restore-artifact
          path: abhi.txt

      - name: download artifact
        uses: actions/download-artifacts@v2
        with:
          name: restore-artifact

      - name: Reset
        if: ${{ github.event.inputs.platform == 'reset' }} 
        run: |-
            echo "Reseting"
            cat abhi.txt
