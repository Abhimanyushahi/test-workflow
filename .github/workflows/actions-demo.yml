name: Manual Workflow

on:
  workflow_dispatch:
    inputs:
      parameter1:
        description: 'Input parameter 1'
        required: true
        default: 'first'
      parameter2:
        description: 'Input parameter 2'
        required: false
      arrayParam:
        description: 'Description of your array parameter'
        required: true
        default: '[]'

  push:
    branches:
      - master

jobs:
  restor_instances:
    runs-on: ubuntu-latest
    steps:
      - name: Print parameters
        run: |-
          echo -e "\033[0;31m Parameter 1: \033[00m${{ github.event.inputs.parameter1 }}"
          echo "Parameter 2: ${{ github.event.inputs.parameter2 }}"

      - name: Step 1
        run: echo "Input array: ${{ github.event.inputs.arrayParam }}"

      - name: First script
        run: |
          pwd
          sudo apt install tree -y
          tree
          ls -R . 
          chmod +x first.sh
          bash first.sh
          echo "First script run successful"

      - name: Second script
        run: |
          chmod +x second.sh
          bash second.sh
          echo "Second script runs successful"
